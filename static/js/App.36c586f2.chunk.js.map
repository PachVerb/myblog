{"version":3,"file":"static/js/App.36c586f2.chunk.js","mappings":"qMAqBA,MARA,WACE,OACE,SAAC,KAAD,CAAgBA,OAAQC,EAAAA,EAAxB,UACE,SAAC,IAAD,KAGL,C,kECyBD,IAjCyB,WACvBC,QAAQC,IAAI,4BACZ,IAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACjB,GAAwBC,EAAAA,EAAAA,WAAS,GAAjC,eAAOC,EAAP,KAAaC,EAAb,KAoBA,OAnBAC,EAAAA,EAAAA,YAAU,WACRT,QAAQC,IAAIG,GACEM,eAAeC,QAAQ,SASnCH,GAAQ,GACkB,WAAtBJ,EAASQ,UACXV,EAAS,IAAK,CACZW,SAAS,MAVbL,GAAQ,GAEgB,WAAtBJ,EAASQ,WACgC,IAAzCR,EAASQ,SAASE,QAAQ,WAE1BZ,EAAS,SAAU,CAAEW,SAAS,IAQnC,GAAE,CAACT,EAAUF,KAEkC,IAAzCE,EAASQ,SAASE,QAAQ,UAC/BP,GACE,SAAC,KAAD,IACE,MAEJ,SAAC,KAAD,GAEH,C","sources":["App.js","router/AuthRequire.js"],"sourcesContent":["/*\n * @LastEditTime: 2022-10-07 01:26:05\n * @Description:\n * @Date: 2022-09-29 17:53:30\n * @Author: wangshan\n * @LastEditors: wangshan\n */\nimport React from \"react\";\n// import { Outlet } from \"react-router-dom\";\nimport { ConfigProvider } from \"antd\";\nimport AuthReuire from \"./router/AuthRequire\";\nimport zhCN from \"antd/es/locale/zh_CN\";\nimport \"./App.css\";\nfunction App() {\n  return (\n    <ConfigProvider locale={zhCN}>\n      <AuthReuire />\n    </ConfigProvider>\n  );\n}\n\nexport default App;\n","/*\r\n * @LastEditTime: 2022-10-05 06:01:40\r\n * @Description:\r\n * @Date: 2022-09-25 16:40:04\r\n * @Author: wangshan\r\n * @LastEditors: wangshan\r\n */\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { Outlet } from \"react-router-dom\";\r\n\r\nconst RouterBeforeEach = () => {\r\n  console.log(\"登陆鉴权\");\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [auth, setAuth] = useState(false);\r\n  useEffect(() => {\r\n    console.log(location);\r\n    let blLogin = sessionStorage.getItem(\"user\");\r\n    if (!blLogin) {\r\n      setAuth(false);\r\n      if (\r\n        location.pathname !== \"/login\" &&\r\n        location.pathname.indexOf(\"/admin\") !== -1\r\n      )\r\n        navigate(\"/login\", { replace: true });\r\n    } else {\r\n      setAuth(true);\r\n      if (location.pathname === \"/login\")\r\n        navigate(\"/\", {\r\n          replace: true,\r\n        });\r\n    }\r\n  }, [location, navigate]);\r\n\r\n  return location.pathname.indexOf(\"/admin\") !== -1 ? (\r\n    auth ? (\r\n      <Outlet />\r\n    ) : null\r\n  ) : (\r\n    <Outlet />\r\n  );\r\n};\r\n\r\nexport default RouterBeforeEach;\r\n"],"names":["locale","zhCN","console","log","navigate","useNavigate","location","useLocation","useState","auth","setAuth","useEffect","sessionStorage","getItem","pathname","replace","indexOf"],"sourceRoot":""}