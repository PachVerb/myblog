{"version":3,"file":"static/js/EditorContent.dd29311d.chunk.js","mappings":"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","sources":["pages/admin/editor/publishModal.jsx","pages/admin/editor/index.jsx"],"sourcesContent":["/*\n * @LastEditTime: 2022-10-08 00:22:20\n * @Description:\n * @Date: 2022-10-07 23:58:04\n * @Author: wangshan\n * @LastEditors: wangshan\n */\nimport React, { useState } from \"react\";\nimport { Button, Modal, Row, Col, Form, Input, Select, Space } from \"antd\";\nimport { UploadOutlined } from \"@ant-design/icons\";\nconst { Option } = Select;\n// const layout = {\n//   labelCol: {\n//     span: 8,\n//   },\n//   wrapperCol: {\n//     span: 16,\n//   },\n// };\n// const tailLayout = {\n//   wrapperCol: {\n//     offset: 8,\n//     span: 16,\n//   },\n// };\nfunction PublishModal() {\n  const [open, setOpen] = useState(false);\n  const [form] = Form.useForm();\n  const showModal = () => {\n    setOpen(true);\n  };\n\n  const handleOk = () => {\n    setOpen(false);\n  };\n\n  const handleCancel = () => {\n    setOpen(false);\n    onReset();\n  };\n\n  const onFinish = (values) => {\n    console.log(values);\n  };\n\n  const onReset = () => {\n    form.resetFields();\n  };\n\n  return (\n    <>\n      <Button icon={<UploadOutlined />} type=\"success\" onClick={showModal}>\n        发表\n      </Button>\n      <Modal\n        maskClosable={false}\n        title=\"发表信息\"\n        open={open}\n        onOk={handleOk}\n        onCancel={handleCancel}\n        footer={null}\n      >\n        <Form form={form} name=\"control-hooks\" onFinish={onFinish}>\n          <Form.Item\n            name=\"title\"\n            label=\"文章标题\"\n            rules={[\n              {\n                required: true,\n              },\n            ]}\n          >\n            <Input placeholder=\"标题...\" />\n          </Form.Item>\n          <Form.Item\n            name=\"desc\"\n            label=\"文章描述\"\n            rules={[\n              {\n                required: true,\n              },\n            ]}\n          >\n            <Input placeholder=\"文章描述...\" />\n          </Form.Item>\n          <Form.Item\n            name=\"type\"\n            label=\"发表类型\"\n            rules={[\n              {\n                required: true,\n              },\n            ]}\n          >\n            <Select placeholder=\"选择类型\" allowClear>\n              <Option value=\"male\">前端</Option>\n              <Option value=\"female\">编程</Option>\n              <Option value=\"other\">摄影</Option>\n            </Select>\n          </Form.Item>\n\n          <Form.Item>\n            <Row>\n              <Col span={24} align=\"right\">\n                <Space>\n                  <Button htmlType=\"button\" onClick={onReset}>\n                    重置\n                  </Button>\n                  <Button type=\"primary\" htmlType=\"submit\">\n                    提交\n                  </Button>\n                </Space>\n              </Col>\n            </Row>\n          </Form.Item>\n        </Form>\n      </Modal>\n    </>\n  );\n}\nexport default PublishModal;\n","/*\n * @LastEditTime: 2022-10-08 00:36:43\n * @Description: 编辑器\n * @Date: 2022-10-07 18:11:54\n * @Author: wangshan\n * @LastEditors: wangshan\n */\n\nimport React, { useState, useEffect } from \"react\";\nimport { Row, Col, Button, Space, Dropdown, Menu } from \"antd\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  EyeOutlined,\n  EyeInvisibleOutlined,\n  FieldTimeOutlined,\n  HomeOutlined,\n  AppstoreOutlined,\n  RollbackOutlined,\n} from \"@ant-design/icons\";\nimport { Editor, Toolbar } from \"@wangeditor/editor-for-react\";\nimport PublishModal from \"./publishModal\";\n// import { DomEditor } from \"@wangeditor/editor\";\n// import hljs from \"highlight.js\";\n\nimport \"./editor.css\";\nfunction EditorContent() {\n  const [editor, setEditor] = useState(null);\n  const [isPriview, setPriview] = useState(false);\n  const [html, setHtml] = useState(localStorage.getItem(\"artitle\"));\n  const navigate = useNavigate();\n\n  // 工具栏配置\n  const toolbarConfig = {};\n  // 编辑器配置\n  const editorConfig = {\n    placeholder: \"请输入内容...\",\n  };\n  //\n  useEffect(() => {\n    return () => {\n      if (editor == null) return;\n      editor.destroy();\n      setEditor(null);\n    };\n  }, [editor]);\n\n  useEffect(() => {\n    const preview = document.getElementsByClassName(\"priview-wrap\");\n    console.log(preview);\n    if (isPriview) {\n      preview[0].innerHTML = html;\n      //   hljs.highlightAll();\n      // document.addEventListener(\"DOMContentLoaded\", (event) => {\n      //   document.querySelectorAll(\"pre code\").forEach((el) => {\n      //     hljs.highlightElement(el);\n      //   });\n      //   });\n    }\n    // return ()=> {\n    //     document.removeEventListener\n    // }\n  }, [isPriview, html]);\n\n  const back = (e) => {\n    // console.log(e);\n    navigate(e, {\n      replace: true,\n    });\n  };\n  const menu = (\n    <Menu\n      items={[\n        {\n          key: \"/admin/board\",\n          label: (\n            <Button\n              icon={<AppstoreOutlined />}\n              type=\"link\"\n              onClick={() => back(\"/admin/board\")}\n            >\n              主页\n            </Button>\n          ),\n        },\n        {\n          key: \"/\",\n          label: (\n            <Button\n              icon={<HomeOutlined />}\n              type=\"link\"\n              onClick={() => back(\"/\")}\n            >\n              首页\n            </Button>\n          ),\n        },\n      ]}\n    />\n  );\n\n  return (\n    <>\n      <div\n        className=\"eidtor-container\"\n        style={{ border: \"1px solid #ccc\", zIndex: 100 }}\n      >\n        <Row style={{ padding: \"12px 24px\" }}>\n          <Col span={24}>\n            <Space>\n              <Button\n                icon={isPriview ? <EyeInvisibleOutlined /> : <EyeOutlined />}\n                type=\"primary\"\n                onClick={() => setPriview(!isPriview)}\n              >\n                预览\n              </Button>\n              <Button\n                icon={<FieldTimeOutlined />}\n                onClick={() => localStorage.setItem(\"artitle\", html)}\n              >\n                草稿箱\n              </Button>\n              <PublishModal />\n              <Dropdown\n                overlay={menu}\n                placement=\"bottom\"\n                arrow={{\n                  pointAtCenter: true,\n                }}\n              >\n                <Button icon={<RollbackOutlined />}>返回</Button>\n              </Dropdown>\n            </Space>\n          </Col>\n        </Row>\n        <Row>\n          <Col span={24}>\n            <Toolbar\n              editor={editor}\n              defaultConfig={toolbarConfig}\n              mode=\"default\"\n              style={{ borderBottom: \"1px solid #ccc\" }}\n            />\n          </Col>\n        </Row>\n        <Row className=\"editor\">\n          <Col span={isPriview ? 12 : 24}>\n            <Editor\n              defaultConfig={editorConfig}\n              value={html}\n              onCreated={setEditor}\n              onChange={(editor) => setHtml(editor.getHtml())}\n              mode=\"default\"\n              style={{\n                height: \"100%\",\n                overflowY: \"hidden\",\n                width: \"100%\",\n                border: \"1px solid #555\",\n              }}\n            />\n          </Col>\n          {isPriview ? (\n            <Col span={12}>\n              <div className=\"priview-wrap\">{html}</div>\n            </Col>\n          ) : null}\n        </Row>\n      </div>\n    </>\n  );\n}\n\nexport default EditorContent;\n"],"names":["Option","Select","useState","open","setOpen","Form","form","onReset","resetFields","icon","UploadOutlined","type","onClick","maskClosable","title","onOk","onCancel","footer","name","onFinish","values","console","log","label","rules","required","placeholder","allowClear","value","span","align","htmlType","editor","setEditor","isPriview","setPriview","localStorage","getItem","html","setHtml","navigate","useNavigate","useEffect","destroy","preview","document","getElementsByClassName","innerHTML","back","e","replace","menu","items","key","AppstoreOutlined","HomeOutlined","className","style","border","zIndex","padding","EyeInvisibleOutlined","EyeOutlined","FieldTimeOutlined","setItem","overlay","placement","arrow","pointAtCenter","RollbackOutlined","defaultConfig","mode","borderBottom","onCreated","onChange","getHtml","height","overflowY","width"],"sourceRoot":""}